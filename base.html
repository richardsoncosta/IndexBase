<!DOCTYPE html>
<html>

<head>
    <title>Base de conhecimentos</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="estilo.css">
    <script>
        function checkAuth() {
            const user = localStorage.getItem('user');
            const timestamp = localStorage.getItem('timestamp');

            // Verifica se o usuário já está autenticado e se a autenticação ainda é válida (4 horas)
            if (user && timestamp && (Date.now() - timestamp < 4 * 60 * 60 * 1000)) {
                return true; // Usuário já autenticado
            }

            // Loop para solicitar credenciais até que o usuário acerte ou cancele
            while (true) {
                const username = prompt("Digite o nome de usuário:");
                if (username === null) {
                    // Usuário cancelou o prompt
                    alert("Autenticação cancelada.");
                    return false;
                }

                const password = prompt("Digite a senha:");
                if (password === null) {
                    // Usuário cancelou o prompt
                    alert("Autenticação cancelada.");
                    return false;
                }

                // Verifica se as credenciais estão corretas
                if (username === "SUPERVISOR" && password === "123456") {
                    localStorage.setItem('user', username); // Armazena o usuário
                    localStorage.setItem('timestamp', Date.now()); // Armazena o timestamp
                    return true; // Autenticação bem-sucedida
                } else {
                    alert("Usuário ou senha incorretos. Tente novamente.");
                }
            }
        }

        // Verifica a autenticação ao carregar a página
        if (!checkAuth()) {
            window.location.href = "about:blank"; // Redireciona para uma página em branco se a autenticação falhar
        }

        // Função para mostrar/ocultar o código
        function toggleCode(button) {
            const codeElement = button.previousElementSibling;
            if (codeElement.style.display === "none" || codeElement.style.display === "") {
                codeElement.style.display = "block";
                button.textContent = "Mostrar menos";
            } else {
                codeElement.style.display = "none";
                button.textContent = "Mostrar mais";
            }
        }

        // Função para buscar conteúdo
        function buscarConteudo() {
            const termo = document.getElementById("inputBusca").value.toLowerCase(); // Obtém o termo de busca
            const postagens = document.querySelectorAll(".postagem"); // Seleciona todas as postagens

            postagens.forEach(postagem => {
                const titulo = postagem.querySelector("h4").textContent.toLowerCase();
                const descricao = postagem.querySelector(".descricao-sql").textContent.toLowerCase();
                const codigo = postagem.querySelector(".codigo").textContent.toLowerCase();

                // Verifica se o termo de busca está no título, descrição ou código
                if (titulo.includes(termo) || descricao.includes(termo) || codigo.includes(termo)) {
                    postagem.style.display = ""; // Mostra a postagem se contiver o termo
                } else {
                    postagem.style.display = "none"; // Oculta a postagem se não contiver o termo
                }
            });
        }
    </script>
</head>

<body>
    <div id="area-cabecalho">
        <div id="area-logo">
            <h1>Suporte</h1>
        </div>
        <div id="area-menu">
            <a href="index.html">Home</a>
            <a class="selecionado" href="base.html">Base de Conhecimentos</a>
            <a href="tutoriais.html">Tutoriais</a>
            <a href="sql.html">SQLs</a>
            <a href="downloads.html">Downloads</a>
        </div>
    </div>

    <div id="area-principal">
        <div id="area-sql">
            <div>
                <h2>Base de conhecimentos</h2>
                <br>
                <span class="descricao">Encontre erros e soluções de diversos casos documentados</span>
                <br>
                <br>
                <br>
                <p>Nesta seção você vai encontrar um acervo de erros documentados e suas soluções de uso rotineiro do suporte para as mais diversas situações</p>
                <br>
                <div>
                    <input type="text" id="inputBusca" placeholder="Buscar conteúdo..." oninput="buscarConteudo()">
                    <p class="buscar-conteudo">Use a barra acima para colocar trechos do erro e encontre a solção que precisa</p>
                </div>
                <br>
                <br>
                <br>

                <!-- Início das postagens -->
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 1 - Contingencia: Schema XML: The 'http://www.portalfiscal.inf.br/nfe.cAut
element is invalid - The value " is invalid according to its
datatype 'String - The Pattern constraint </h4>
    <span class="descricao-sql"> Erro no XML, existe algum caractere que não é aceito pela sefaz no campo de autorização manual, que o frentista informa para finalizar uma venda em cartão manual </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
Para correção: 
    
1 - No banco do PAF>tabela VENDA_FECHAMENTO_CRT>coluna CARTAO_AUTORIZAÇAO> Alterar o valor nesse campo por qualquer numero natural>comitar e (Caso nao seja necessário para o cliente essa funçao, de digitar o numero de autorização para baixar a venda, podemos desativar a função e evitar futuros casos 
 
2 - Para desativar a função caso o cliente não use (Perguntar se usa) > Acessar > "configurações PDV"> aba TEF> desmarcar flag canto inferior esquerdo > solicitação digitação manual para cartão
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
        <h4> 2 - Não foi possível conectar ao servidor </h4>
        <span class="descricao-sql"> Erro do serviço TEF Gsurf ao tentar passar cartão, pode ter ocorrido por diversos motivos, o serviço travado, queda de internet ou energia etc </span>
        <br>
        <br>
    
    <pre class="codigo"style="display: none;">
Para correção:
        
1 - Reiniciar o serviço > Barra de pesquisa do Windows > pesquisar por Serviços > Abrir o serviços do Windows > procurar o Serviço "Gsurf" > Clicar em reiniciar o serviço. > pedir para o cliente testar ou executar um teste manual
 
Teste Manual: Abrir CMD > executar comando "Telnet 127.0.0.1 4096" > ao executar a tela ficara preta e podemos fechar o cmd > 
vamos consultar na pasta C:\Gsurfssl > arquivo de LOG.txt > a ultima linha desse LOG deve ser o serviço "Solicitando desconexão" qualquer retorno diferente significa que continua com erro. Precisaremos executar a segunda solução
 
2 - Reinstalar o certificado do TEF > Identificando o código da OTP, dentro da pasta C:\Gsurfssl tem um arquivo chamado gsurfcli.txt que basicamente é o CNPJ do cliente que pode ter ou não um caractere de identificação. Caso não possa acessar o arquivo gsurfcli.txt usaremos o cnpj do cliente
 
2.1 - Acessamos o endereço https://cdp.gsurfnet.com/login/login > faremos logisn com redesoft.se e a senha que muda conforme o tempo > ao logar no canto superior direito clicaremos na aba Clientes > sub-aba Buscar clientes > ao lado do campo "revenda " haverá o campo "CNPJ" colocaremos o cnpj e clicaremos em filtrar
 
2.2 - Localizaremos a OTP correspondente ao PDV que vamos reinstalar, seja por numero de banco ou pelo código coletado no arquivo TXT mencionado em 2.1 > Clicamos na seta ao lado de "Histórico" > em seguida clicamos em Reinstalar, vai aparecer uma tela para confirmar ao confirmar vai nos aparecer um codigo que usaremos para reinstalar o certificado
 
2.3 - Com o código do certificado extraído do portal de parceiro gsurf, vamos baixar no cliente o certificado abrindo link http://gsurf.com.br/lib/win/certificado.zip na maquina do cliente > extraímos e executamos > dentro da interface do executável informaremos mesmos usuários e senha usado para acessar o portal do Gsurf > por ultimo o código OTP que coletamos no site > ao apertar enter aparecera uma mensagem "Certificado instalado com sucesso, precisona qualquer tecla"
 
2.4 - Reiniciar o serviço Gsurf > Barra de pesquisa do Windows > pesquisar por Serviços > Abrir o serviços do Windows > procurar o Serviço "Gsurf" > Clicar em reiniciar o serviço. > pedir para o cliente testar ou executar um teste manual
   <br>
    <br>
    </pre> <button onclick="toggleCode(this)">Mostrar mais</button>
    
    <br>
    <br>
    <hr>
        </div> <!-- fechamento postagem-->
                    
 <div class="postagem"> <!-- abertura postagem-->
    <h4> 3 - Erro retorno no LOG GSurf: Não é possível localizar IP </h4>
    <span class="descricao-sql"> Esse erro ocorre quanto testamos a comunicação do serviço do Gsurf após teste de telnet, o retorno do log diz que não foi possível conectar ao servidor, isso porque durante os saltos entre a maquina do cliente e o servidor, o provedor de internet do cliente não encontrou rota até o servidor telnet dessa forma. claro que o gsuf não funciona </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Verificar firewall e antivírus da maquina, se já estiverem desativados e o problema persistir solução é pedir para o cliente reiniciar o Switch ou roteador de internet para que na reinicialização os caminhos de saltos mudem encontrando uma rota correta.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
</div> <!-- fechamento postagem-->

<div class="postagem"> <!-- abertura postagem-->
    <h4> 4 - Caixa em contingência sem fechamento no retaguarda ou o caixa foi fechado no PDV mas não subiu o fechamento </h4>
    <span class="descricao-sql"> Pode ocorrer por muitos motivos, o principal seriam contingências, bloqueio de rede, falta de consolidação </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
<span class="negrito">Primeira tentativa - Normal</span>

Para correção:
    
1 - Verificamos se o PDV esta com contingências, caso esteja solucionamos todas, caso não saiba como corrigir, pesquisar na base de conhecimentos o My Suite como solucionar a contingencia
 
2 - Ao resolver a contingência, tentamos transmitir > no PDV > Clicamos F11 para bloquear todos os turnos > depois Clicando F5 Extras > Selecionar opção "Manutenção de pendencia NFCE" > selecionar todas as notas em contingencia e clicar em transmitir > caso solicite senha de supervisor informar login e senha
 
3 - Consolidar > no PDV Clicando F5 Extras > selecionar opção "Consolidação" clicar em enviar algumas vezes até uma sub-tela que informa quais dados estão sendo transmitidos não aparecer mais
 
    <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
</div> <!-- fechamento postagem-->

<div class="postagem"> <!-- abertura postagem-->
    <h4> 5 - Data e hora dos abastecimentos chegando errado no sistema em automação EZ TECH, automação CBC e automação HORUSTECH</h4>
    <span class="descricao-sql"> O sistema da Redesoft não é responsável por carimbo de data e hora dos abastecimentos, a Redesoft somente ler o que o aparelho concentrador envia.
 
Por isso, quando o cliente nos informa esse problema, a automação esta com horário incorreto enviando errado os abastecimentos com horários errados.</span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Concentrador da marca EZ TECH: Nesse caso acessamos a pasta do concentrador> C:\Ezservice> executamos um BAT que sincroniza o horário do PC com o a automação > O nome do BAT é SetDateTime.bat> vai abrir um arquivo bat. com cadeias de comando cmd e corrigira automaticamente a hora e data da automação. > 
A partir desse momento os abastecimentos caem corretamente, e os anteriores não podemos alterar.
 
2 - Concentrador da marca CBC: Abrir software da CBC> selecionar aba de configurações> ao lado do campo "TERMINAL DE LEITURA DE CONFIGURAÇÕES" vai ter um menu > selecionamos "configurações"> dentro de "configurações" vai ter um botão " atualizar horário" >  corrigira automaticamente a hora e data da automação. 
A partir desse momento os abastecimentos caem corretamente, e os anteriores não podemos alterar.
 
3 - Concentrador da marca HORUSTECH: Abrir software HRS Console com certificado (caso não tenha certificado de automação, solicite ajuda ao nível 2 de frente de loja)> acessar aba "terminal"> clicar em "ajuste de calendário"> clicar em "sincronizar"
corrigira automaticamente a hora e data da automação. A partir desse momento os abastecimentos caem corretamente, e os anteriores não podemos alterar.
    <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->


    <div class="postagem"> <!-- abertura postagem-->
        <h4> 6 - Cliente ao tentar efetuar vendas ocorria erro no regime de tributação pois ele tinha trocado de regime recentemente.
Por algum motivo o PDV não atualizou no banco a informação </h4>
        <span class="descricao-sql"> Cliente ao tentar efetuar vendas ocorria erro no regime de tributação pois ele tinha trocado de regime recentemente.
Por algum motivo o PDV não atualizou no banco a informação</span>
        <br>
        <br>
    
    <pre class="codigo"style="display: none;">
Para correção: 
 
1 - Verificar no banco do PAF se as informações estão as mesmas do cadastro da empresa no retaguarda
Banco PAF> Na tabela "empresa_regime_tribut" coluna "regime_tributacao" verificar se o regime tributário é o mesmo no cadastro da empresa no retaguarda, se nao for colocar o regime correto > comitar > reiniciar PDV 
   <br>
 <br>
    </pre> <button onclick="toggleCode(this)">Mostrar mais</button>
    
    <br>
    <br>
    <hr>
        </div> <!-- fechamento postagem-->

                
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 7 - Erro pinpad 31 </h4>
    <span class="descricao-sql"> Erro específico de falta de comunicação com o Pinpad</span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção:
    
1 - No sistema verificar a porta USB configurada para o pinpad > F5 extras, selecionar "trocar porta pinpad" > recomendamos deixar em "'AUTO_USB" (maiúsculo) reiniciar o sistema
 
2 - Pedimos para remover e reconectar o pinpad fechamos e abrimos o sistema e testamos
 
3 - Se o erro persistir verificar modelo de Pinpad e verificar se os drives estão instalados, se já estão instalado, desinstalados e instalamos de novo, trocamos o pinpad de porta USB e fechamos e abrimos o PDV, testamos novamente
 
4 - Se o erro persistir informar para o cliente que o problema esta no aparelho pinpad, que o mesmo solicite a troca do dispositivo
<br>
 <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->


                <div class="postagem"> <!-- abertura postagem-->
    <h4> 8 - Não existe forma de pagamento cadastrada neste banco de dados com estas condições 
Verifique se a forma de pagamento exclusiva está permitida na configuração do banco 
Verifique se a OPN restringe uma forma de pagamento especifica que não está configurada no banco. </h4>
    <span class="descricao-sql"> PDF informa que alguma configuração no cadastro da OPNF restringe a utilização da forma de pagamento</span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção: 
    
1 - Verificar se a forma usada na OPN esta cadastrada no PDV nas "configurações do PDV" aba "formas de pagamento" caso já esteja configurada
 
2 - Acessar o retaguarda do cliente > buscar "cadastro de OPNF" ou no "modulo operacional"> selecionar "Menu PDV" >  opção "B cadastro de OPNF" >
localizar o cadastro da operação que o cliente deseja fazer no PDV > ao abrir o cadastro da opnf verificar aba de "formas de pagamento permitidas" > nessa aba deve haver a forma que o cliente esta usando, senão tiver deve ser incluída, e obrigatoriamente deve haver ao lado da forma, na coluna "empresa" o número de empresa que aquela forma pode ser usada na OPNF.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
               
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 9 - Erro ao abrir o PDV: Unsuccessful execution caused by a system error that precludes successful execution of subsequent statements.database
C:\REDESOFT\B2CLICKPAF\BASEPAF.FDB shutdown. </h4>
    <span class="descricao-sql"> Em algumas situações o banco do PDV fica offline na maquina do cliente, então vamos precisar realizar um shutdown no arquivo </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção:
    
Abrir o CMD(Prompt de Comando) e digitar
 
cd C:\Redesoft\b2clickPAF
SET ISC_USER=SYSDBA
SET ISC_PASSWORD=masterkey
gfix -online basepaf.fdb
 
Ao fim do comando podemos abrir o PAF normalmente
    <br>
    <br>

</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
                
        <div class="postagem"> <!-- abertura postagem-->
            <h4> 10 - Erro ao tentar realizar vendas pressionando o F7: MENSAGEM DO ROTEADOR:
abastecimentos.ConsultarAbastecimentosPendentesNosBicosFunção:
abastecimentos.ConsultarAbastecimentosPendentesNosBicos
- Dynamic SQL Error
SQL error code = -901
Implementation limit exceeded
Too many values (more than 1500) in member list to match
against</h4>
            <span class="descricao-sql"> Roteador com mais de 1500 abastecimentos pendentes não permite que o sistema abra a tela de abastecimentos pressionando o F7 pois essa quantidade excede a capacidade do sistema de exibir os abastecimentos. </span>
            <br>
            <br>
        
        <pre class="codigo"style="display: none;">
Para correção:
            
1 - Pedimos que o cliente não pressione o F7, clique com o mouse nos bicos, se cada bico tiver menos de 1500 abastecimentos, não ocorrerá o erro, o cliente deve baixar esses abastecimentos conforme a necessidade até um número menos de 1500 abastecimentos ao todo, para poder voltar a usar o F7
 
2 - Caso em 1 bico ou mais, possua individualmente mais de 1500 abastecimentos pendentes, esse bico não vai conseguir abrir a tela e exibir abastecimentos para baixar pois essa quantidade estoura a quantidade suportada pelo sistema, por isso vamos precisar mudar a situação de metade desses abastecimentos no banco do roteador para situação 30, diminuindo a quantidade de abastecimentos naquele bico, o cliente vai baixar esses valores para que depois  voltar os abastecimentos que alteramos para situação 30 para a situação 0, assim eles vão aparecer na tela.
 <br>
<br>
        </pre> <button onclick="toggleCode(this)">Mostrar mais</button>
        
        <br>
        <br>
        <hr>
            </div> <!-- fechamento postagem-->
       
<div class="postagem"> <!-- abertura postagem-->
    <h4> 11 - Erro ao tentar realizar uma venda clicando no bico ou pressionando o F7: Já existe uma venda aberta </h4>
    <span class="descricao-sql"> Ao tentar abrir qualquer venda de abastecimento ocorre esse erro, provavelmente um abastecimento que o sistema tenta abrir uma venda de baixa automática, mas esse abastecimento esta sem RFID, e trava totalmente as vendas no PDV. </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
Para correção: 
    
Procurar abastecimentos sem RFID no caixa principal e identificar inserir o RFID de algum funcionário nos abastecimentos sem RFID
 <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
        <h4> 12 - Erro ao tentar realizar uma venda no cartão combustível: Não foi possivel finalizar a venda Mensagem: cod venda: Os valores dos pagamentos São insuficientes para fechar a venda Se desistir a transação de TEF será cancelada!, Deseja tentar novamente? </h4>
        <span class="descricao-sql"> Erro ocorre porque está sendo aplicado um desconto diferente na venda, o principal causador é o preço do produto a ser vendido com o preço errado no Portal Vitrine de Preços do clientes </span>
        <br>
        <br>
    
    <pre class="codigo"style="display: none;">
Para correção: 
        
Nesse caso não há solução aplicada por nós, podemos demonstrar para o cliente que esse desconto só surge depois que o cliente coloca a senha do cartão, que é quando
vem o retorno com o preço do produto diferente, o cliente vai ter que verificar os preços dos produtos na vitrine maxfrotas, valecard, tiketlog etc... esses preços devem ser os mesmos da bomba e do retaguarda redesoft, após informar os cliente liberamos o PDV.
    <br>
    <br>

    </pre> <button onclick="toggleCode(this)">Mostrar mais</button>
    
    <br>
    <br>
    <hr>
        </div> <!-- fechamento postagem-->

                 <div class="postagem"> <!-- abertura postagem-->
    <h4> 13 - Erro ao tentar acessar PDV Comanda Ideal: Erro de acesso ao banco. Verifique sua conexão. Problema na
tentativa de conexão com o banco de dados, verifique se o
endereço está correto e tente novamente </h4>
    <span class="descricao-sql"> Comanda ideal não consegue conexão com o banco de dados </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção: 
Verificar as configurações de conexão no arquivo "IP.ini" na pasta "NFE" ou "NFCE" ("192.168.0.200:C:\NFCe\PLBASE.FDB"), pingar no IP do PC servidor, se a conexão estiver OK> verificar regras de Firewall, apesar da conexão OK, as regras de firewall limitam a conexão e o sistema conecta na máquina mas não acessa o arquivo de banco de dados(PLBASE), pois o firewall bloqueia. Caso não tenha as Regras Firebird UDP e Firebird TCP > criar regras de entrada no Firewall, 1 porta UDP e outra TCP ambas com o número 3051.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 14 - servi
exception 1
NONAME
Por razoes de seguranca nao e permitido fazer modificacoes neste banco
At trigger 'INS$VENDA_OPNF' line: 8, col: </h4>
    <span class="descricao-sql"> Erro ocorreu quando o cliente tentou abrir uma venda opnf, aparentemente, o executavel do PAF ao tentar executar sql no banco, por algum motivo o banco bloqueou as tabelas usadas na operação </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção
    
A correçao desse problema se deu com um restore normal pelo CMD
 
1 - Comando restore normal:
 
SET ISC_USER=SYSDBA
SET ISC_PASSWORD=masterkey
GFIX -C ALL C:\REDESOFT\B2CLICKPAF\BANCO.FDB
GFIX -M -I C:\REDESOFT\B2CLICKPAF\BANCO.FDB
GBAK -G -B -V -IG C:\REDESOFT\B2CLICKPAF\BANCO.FDB C:\REDESOFT\B2CLICKPAF\BKP_BANCO.GBK
GBAK -G -R -V -P 4096 C:\REDESOFT\B2CLICKPAF\BKP_BANCO.GBK C:\REDESOFT\B2CLICKPAF\BANCO_RECUPERADO.FDB
GFIX -V -F C:\REDESOFT\B2CLICKPAF\BANCO_RECUPERADO.FDB

 
2 - Comando restore critico
 
SET ISC_USER=SYSDBA
SET ISC_PASSWORD=masterkey
GFIX -C ALL C:\REDESOFT\ROTEADOR\BANCO.FDB
GFIX -M -I C:\REDESOFT\ROTEADOR\BANCO.FDB
GBAK -G -B -V C:\REDESOFT\ROTEADOR\BANCO.FDB C:\REDESOFT\ROTEADOR\BKP_BANCO.GBK
GBAK -G -R -V -P 4096 C:\REDESOFT\ROTEADOR\BKP_BANCO.GBK C:\REDESOFT\ROTEADOR\BANCO_RECUPERADO.FDB
GFIX -V -F C:\REDESOFT\ROTEADOR\BANCO_RECUPERADO.FDB
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 15 - Problemas na conexão com o banco
internal Firebird consistency check (cannot find record back version (291), file: dpm.cpp line: 1189) </h4>
    <span class="descricao-sql"> Erro ao tentar abrir o PAF, banco esta com alguma tabela corrompido, infelismente não é possivl recuperar o banco nessa situaçao, mas podemos executar ações que em algumas situações torne a recuperação possivel </span>
    <br>
    <br>

<pre class="codigo"style="display: none;">
 
Para correção: 
1 - Executar restore normal pelo CMD, e o arquivo gerado realizar outro restore pelo critico.
 
2 - Caso o restore nao consiga ser executado, podemos tentar o arquivo de banco para nossa maquina, e tentar executar o restore em nossa maquina
 
3 - Se nenhum dos procedimentos funcionar, teremos que gerar um outro banco para subistituir esse.
    <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 16 - Ocorreram problemas na recepção da consolidação:
update or insert into CNC_AFILIACAO_TAXA (MOMENTO COD_CNC AFILIACAO_TAXA,COD_CNC_AFILIACAO,COD_EMPRESA,CO D_CNC ADQUIRENTE,COD_CNC BANDEIRA_PRODUTO,COD_CNC BAN 3 DEIRA, COD_CNC PLANO,COD_FORMA_PAGTO,DATA INICIAL,DATA FIN
AL) values (CURRENT_TIMESTAMP ,'21','57','21','2','40','1','2','40','01/01/2022', '12/31/2025') --> Erro executando SQL conversion error from string "12/31/2025" SQL: update or insert into CNC AFILIACAO_TAXA (MOMENTO
COD_CNC AFILIACAO_TAXA,COD_CNC AFILIACAO,COD_EMPRESA,CO
D_CNC ADQUIRENTE,COD_CNC BANDEIRA_PRODUTO,COD_CNC_BAN
DEIRA, COD_CNC_PLANO,COD_FORMA PAGTO,DATA INICIAL,DATA_FIN
AL) values (CURRENT_TIMESTAMP
,'21','57','21','2', '40','1','2', '40','01/01/2022', '12/31/2025')
update or insert Into CNC AFILIACAO_TAXA (MOMENTO COD_CNC AFILIACAO_TAXA,COD_CNC AFILIACAO,COD_EMPRESA,CO
D CNC ADQUIRENTE,COD_CNC BANDEIRA_PRODUTO,COD_CN </h4>
    <span class="descricao-sql"> A tabela "cnc_afiliacao_taxa" tinha uma coluna "data_final" com o tipo de valor incorreto, a coluna deveria ser do tipo de dado "data" mas estava com o tipo "time" ocasionando erro na consolidaçao dos dados </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Abrir IBO> aba de  tabelas> tabela "cnc_afiliacao_taxa" > na tela de propriedades da tabela> clica com o botao direito em "data_final"se ela tiver com o tipo "time", deleta a coluna com defeito> clica com botao direto em qualquer area > selecion "new" para recriar coluna> coloca o mesmo nome e altera do "Type" para "date"
    <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
        
    </div> <!-- fechamento postagem-->
<div class="postagem"> <!-- abertura postagem-->
    <h4> 17 - Contingencia PDV: 225 - Rejeicao: Falha no Schema XML da NFe The element 'pag' in namespace 'http://www.portalfiscal.inf.br/nfe' has incomplete content. List of possible elements expected: 'detPag' in namespace 'http://www.portalfiscal.inf.br/nfe'.</h4>
    <span class="descricao-sql"> Durante a venda, uma falha no sistema em algum momento deixou a transação sem forma de pagamento no banco.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
 
Nesse caso vamos solucionar em paços.
 
1 - Se os itens da venda forem somente item:
 
 - Tirar o fechamento do caixa com SQL 
 
update caixa_abertura_turno
set fechamento_data=null,fechamento_hora=null
where cod_caixa_abertura_turno='2447'
 
2 - Remover o evento de contingencia
 
Tabela evento > filtar por executado TRUE > Alterar TRUE por FALSE
          Ou 
Update evento
set executado = 'FALSE'
where evento = 'TRANSMITIR NFCE CONTINGENCIA'
 
3 - Alterar na venda situação de cupom, para a venda voltar a tela como um cupom aberto
 
Tabela venda > filtar pelo codigo da venda > cupom_aberto > alterar de FALSE para TRUE
    ou
update venda
set cupom_aberto = 'TRUE'
where cod_venda = 1002
 
4 - Cancelar cupom aberto > fechar o turno > consolidar fechamento.
    <br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
<div class="postagem"> <!-- abertura postagem-->
    <h4> 18 - Erro ao tentar fechar o turno no PDV: TRANSAÇÃO NÃO EFETUADA: MENSAGEM DO ROTEADOR: conta-cliente.ConsultaResumoComissaoVendedor-Função: conta-cliente.ConsultaResumoComissaoVendedor - internal Firebird consistency check (can't continue after bugcheck): [&OK]  </h4>
    <span class="descricao-sql">Quando cliente tenta fechar o turno no PDV, essa mensagem é apresentada, provavelmente a tabela caixa_abertura_turno esta com alguma inconsistência de dados no roteador </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Executar restore no banco do roteador pelo CMD, e logo em seguida, realizar otimização do banco pela interface do roteador 
 
2 - Comando CMD para restore do roteador
 
SET ISC_USER=SYSDBA
SET ISC_PASSWORD=masterkey
GFIX -C ALL C:\REDESOFT\ROTEADOR\BANCO.FDB
GFIX -M -I C:\REDESOFT\ROTEADOR\BANCO.FDB
GBAK -G -B -V C:\REDESOFT\ROTEADOR\BANCO.FDB C:\REDESOFT\ROTEADOR\BKP_BANCO.GBK
GBAK -G -R -V -P 4096 C:\REDESOFT\ROTEADOR\BKP_BANCO.GBK C:\REDESOFT\ROTEADOR\BANCO_RECUPERADO.FDB
GFIX -V -F C:\REDESOFT\ROTEADOR\BANCO_RECUPERADO.FDB
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 19 - Erro ao tentar abrir o PAF: EXCEPTION Type EFIBInterBaseError, message: :
Unsuccessful execution caused by a system error that precludes successful execution of subsequent statements.I/O error during "CreateFile (open)" operation for file "C:\REDESOFT\B2CLICKPAF\BASEPAF.FDB".
Error while trying to open file.
O arquivo já está sendo usado por outro processo.  </h4>
    <span class="descricao-sql">Erro devido ao serviço do Firebird esta travado com o arquivo do banco do PAF </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
1 - Reiniciar o serviço do Firebird
 
2 - Caso o passo anterior não funcione, vai ser necessário desinstalar o firebird e reinstalar novamente 
 
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 20 - Erro ao tentar passar cartão: versão client não autorizada  </h4>
    <span class="descricao-sql">Ao tentar passar um cartão esse erro se apresenta assim que é selecionada uma forma de pagamento TEF dedicada </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
Trocar a DLL "CliSiTef32I.dll" na pasta do PAF para dll mais atual, encontrará essa DLL no keep de TEF, após a troca, reiniciar o sistema e estará resolvido.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 21 - MENSAGEM DO ROTEADOR: abertura_bico.ConsultarBicosDisponiveisParaAbrir-Erro ao tentar obter o encerrante em litros para o bico de código '1|16': 2  O objeto referenciado não existe </h4>
    <span class="descricao-sql"> Erro ocorre quando o cliente tenta abrir ou fechar os bicos mas o sistema não consegue encontrar nenhum bico no concentrador com o código de automação informado no erro, provavelmente o código do bico mudou na automação mas não corrigiram no retaguarda </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Alterar cadastro do bico no retaguarda: Precisamos descobrir qual o novo código de automaçao do bico, para informar ao cliente e ele alterar no retaguarda, podemos para pedir para o cliente abastecer no referido bico um valor pequeno para que quando o abastecimento cair no banco do roteador possamos ver qual código do bico de automação.
Após identificar o código, passar para o cliente e solicitar que ele faça a correção, ao receber consolidação após a alteração no retaguarda vai abrir normalmente.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
<div class="postagem"> <!-- abertura postagem-->
    <h4> 22 - MENSAGEM DO ROTEADOR: abertura_bico.ConsultaFechamentoDeBico-Erro ao tentar obter o encerrante em litros para o bico de código '15': Dados não capturados </h4>
    <span class="descricao-sql"> Erro ocorre quando tenta abrir ou fechar bico e está associado a falta de comunicação da automação que tem comunicação por porta COM </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Vericar porta COM observar se alguma aplicação como CBC está aberta usando a porta de comunicação, após essa verificação solicitar o cliente tentar trocar porta no PC, por último podemos reiniciar o PC e solicitar ao cliente reiniciar concentrador de bombas, se após esses procedimentos não voltar a funcionar, o cliente vai precisar contactar o técnico de automação para verificar a comunicação com o PC
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
     <div class="postagem"> <!-- abertura postagem-->
    <h4> 23 - Pasta de envio configurada sem \ no fim </h4>
    <span class="descricao-sql">Retorno quando o cliente tenta passar cartão, cliente TEF discado não consegue passar o cartão. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Verificar configuração no retaguarda para clientes tef discado, no retaguarda configuramos o caminho no qual o sistema vai procurar o tef discado do cliente para finalizar a venda.
retaguarda do cliente> módulo operacional > opção B "cadastro de formas de pagamento de venda" > localizar a forma > aba "cartão/pay" > sub aba "configurações" > campo "TEF discado" > verificar se o caminho da pasta TEF discado informado está correto, conforme está no PDV, e se no fim do caminho informado no campo, se está com uma contra-barra no final "\"
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem--> 
      <div class="postagem"> <!-- abertura postagem-->
    <h4> 24 - A venda em aberto não pertence ao caixa informado
Caixa da Venda(7505) em aberto: 261
Caixa enviado para comparação: 265 </h4>
    <span class="descricao-sql">Erro ocorre quando o cliente tenta acessar um caixa de algum funcionário mas existe um outro caixa com o cupom aberto, uma venda na tela o sistema informa justamente isso.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Precisamos acessar o caixa com a venda e cancelar o cupom aberto, o próprio erro nos informa qual o código de caixa que no caso é o 261, acessamos o caixa e ou cancelamos o cupom aberto ou finalizamos a venda, quando não aparece a venda na tela, apenas cancelamos o cupom aberto.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->   

                <div class="postagem"> <!-- abertura postagem-->
    <h4> 25 - Este abastecimento já está vinculado a uma venda neste terminal, tente novamente quando o roteador estiver ativo. (Caso o roteador esteja ativo, entre em contato com a REDESOFT) </h4>
    <span class="descricao-sql">Erro ocorre geralmente com roteador é recém gerado, mas pode acontecer em outras situações, o erro informa que o abastecimento que está tentando ser baixado já foi baixado em outro PDV, ou no mesmo PDV, isso ocorre porque quando o roteador é novo os abastecimentos comecam a cair com códigos que já foram usados por outro roteador, provalvemente o roteador que se perdeu. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Vamos precisar alterar os cod_abastecimento para valores não usados e evitar esse erro, para isso vamos executar 2 passos:
 
1 - Consultar o último código abasteceimento na retaguarda, Acessar o retaguarda > "módulo operacionar" > selecionar "caixas" > opção D "consulta de abastecimento" > adicionar um filtro para que voce veja o ultimo abastecimento que subiu ao servidor entre ontem e hoje
 
2 - incrementar no roteador, vamos executar uma SQL para incrementar no roteador para mudar o codigo de abastecimento para um valor maior do que o ultimo abastecimento que foi recebido no retaguarda.
 
Antes de executar SQL > parar roteador e automação > alterar dados de abastecimento na SQL abaixo em vermelho > utilizar o número de último abastecimento no retaguarda e colocar mil códigos a mais para que haja margem para não haver erro.
 
 
update abastecimento
set cod_abastecimento = cod_abastecimento + 10000 < (alterar ultimo abastecimento retaguarda + 1000)
 
Executar sql no roteador > verificar qual o número do último abastecimento após SQL rodar > colocar esse número + 1 em generaitor de abastecimento > iniciar roteador e pedir pra testar já vai está resolvido 
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
<div class="postagem"> <!-- abertura postagem-->
    <h4> 26 - Não ha estoque suficiente no tanque deste combustivel </h4>
    <span class="descricao-sql"> Erro ocorre quando ha tentativa de abrir uma venda rpovavelmente em um caixa de banco recem gerado onde informaões do tanque do produto ficma incompletas no banco</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
resolvemos executando essa SQL no PAF
 
insert into ESTOQUE_TANQUE (COD_EMPRESA, COD_ESTOQUE_TANQUE, COD_PRODUTO_TANQUE, DATA, ESTOQUE_ABERTURA)
select cod_empresa, 0, cod_produto_tanque, current_date, 99999999
from produto_tanque<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

           <div class="postagem"> <!-- abertura postagem-->
    <h4> 27 - RETORNO NOTA: 629 - Rejeição: Valor do Produto difere do produto Valor Unitário de Comercialização e Quantidade Comercial  </h4>
    <span class="descricao-sql">Esse retorno ocorre quando o sistema ao multiplicar o valor do produto por sua quantidade o cálculo não sai corretamente. Por exemplo, quando compramos 2kg de açúcar a R$9,99, o PAF fecha a venda e tenta transmitir a nota com o valor de R$20,00. No entanto o valor correto é R$19,98 </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Com a venda aberta na tela do erro> copiamos o XML> abrimos o validador xml>analisamos o preço do produto que a sefaz rejeita> ao minimizar PAF>abrimos IBO>no banco PAF>localizamos a última venda aberta>na  tabela "venda">identificamos n° da venda > com o número da venda abrimos a tabela "venda_itens">filtramos pelo código da venda>analisamos os produtos com erro no valor (a mensagem de retorno já nos diz o número do item com erro) > foque no produto causador do erro: 
 
qTrib * vUnTrib – vProd = Diferença: Olhando os dados do XML resolva a equação qTrib * vUnTrib = Total – vProd = Diferença Ex: 100 * 6,491 = 649,01 – 649,05 = 0,04, O total dessa conta vai está diferente para mais ou para menos do que o valor calculado pelo sistema> considerando essa diferença sendo para mais ou menos>devemos subtrair ou adicionar na coluna do banco>"total_ecf" em "venda_itens", a lógica é a seguinte: se a diferença é positiva, você adiciona a diferença de "total_ecf", se a diferença é negativa você subtrai o valor a "total_ecf"
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem--> 
                
         <div class="postagem"> <!-- abertura postagem-->
    <h4> 28 - Problema na validação do XML da venda: '2022-01-06T09:10:20' viola a restrição pattern de '(((20(([02468][048])|([13579][26]))-02-29))|(20[0-9][0-9])- ((((0[1-9])|(1[0-2]))-((0[1-9])|(1\d)|(2[0- 8])))|((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))- (29|30)))))T(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d([\-,\+](0[0- 9]|10|11):00|([\+](12):00))'. Falha da análise do elemento '{http://www.portalfiscal.inf.br/nfe}dhEmi' com valor '2022- 01-06T09:10:20'. </h4>
    <span class="descricao-sql"> Erro ocorre devido ao fuso horário nas configurações do PAF esta incorreto. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Basta acessar  configurações do PAF na aba de NFE e alterar para o fuso-horario correto
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->  
     <div class="postagem"> <!-- abertura postagem-->
    <h4> 29 - Problema ao abrir PDV sistema simplismente não abre sem apresentar qualquer erro </h4>
    <span class="descricao-sql">Erro ocorre quando clicamos em abrir o PAF, mas o PAF não abre nada além de instancias de processos no gerenciador de tarefas, isso acontece em decorrência de um problema no Windows do cliente, quando executamos o sistema do PAF o PAF antes de abrir executa uma tarefa de Spooler de impressão, e somente depois dessa tarefa ele abre, e nesse caso o cliente estava com problemas no windons que os serviços de spooler e impressão não estavam funcionando, assim o sistema nao executava a tarefa para depois abrir. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

Informar o cliente acerca do erro, e informar que caso ele não consiga fazer os serviços de impressão operar normalmente vai precisar formatar a máquina, inclusive podemos exemplificar para ele que nem conseguir definir impressora padrão no sistema é possível com esse problema.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->  
                <div class="postagem"> <!-- abertura postagem-->
    <h4> 30 - Não for possivel localzar o número ordinal 4369 na biblioteca de vinculo dinamico libeay32.d.dll </h4>
    <span class="descricao-sql"> Erro no windows 7 ao tentar executar o roteador, ocorre em decorrência da falta de uma DLL do windows na pasta C:Windows\System32 (Windows XP, Vista, 7)
 </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">

Para correção:
    
Corrigimos apenas colocando a dll faltante na pasta C:Windows\System32 (Windows XP, Vista, 7) ou C:\Windows\ SysWOW64 (Windows 7-64 bits ou 8 – 64 bists)
 
Podemos encontrar e fazer dowload do arquivo dll no https://pt.dll-files.com/libeay32.dll.html
    
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
       <div class="postagem"> <!-- abertura postagem-->
    <h4> 31 - A execução de código não pode continuar porque imm32.dll Xnão foi encontrado. Reinstalando o programa para corrigir o problema.</h4>
    <span class="descricao-sql">Erro no windows 7 ao tentar executar o roteador, ocorre em decorrência da falta de uma DLL do windows na pasta C:Windows\System32 (Windows XP, Vista, 7) </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Corrigimos apenas colocar a dll faltante na pasta C:\Windows\System32 (Windows XP, Vista, 7 32-bits) ou C:\Windows\ SysWOW64 (Windows 7-64 bits ou 8 – 64 bists)
 
Podemos encontrar e fazer dowload do arquivo dll no https://pt.dll-files.com/imm32.dll.html
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->  
         <div class="postagem"> <!-- abertura postagem-->
    <h4> 32 - Erro executando SQL lock conflict on no wait transaction
deadlock
update conflicts with concurrent update
concurrent transaction number is 1963964
SQL: 
update CAIXA_ABERTURA_TURNO set CONSOLIDOUP = 'true'
where COD_EMPRESA = 1
and COD_PAF_BANCO = 2
and COD_CAIXA_ABERTURA_TURNO = 4841;  </h4>
    <span class="descricao-sql"> Erro ocorre devido a consolidação do PDV, ou melhor, do conflito de consolidações, por default o PDV faz consolidações automáticas e periódicas em segundo plano, por isso, se durante uma dessas consolidações automáticas clicarmos em ( F5 > consolidação) estaremos forçando o PDV a fazer 2 consolidações ao mesmo tempo, por isso o erro ocorre. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Basta aguardar a consolidação automatica terminar 
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem--> 
     <div class="postagem"> <!-- abertura postagem-->
    <h4> 33 - Erro na execução da SQL: 
select vfdep.* from (
select * from VENDA_PREMMIA
where CONSOLIDOUP = 'false') vp
JOIN CAIXA_ABERTURA_TURNO CAT ON 
CAT.COD_CAIXA_ABERTURA_TURNO = vp.COD_CAIXA_ABERTURA_TURNO AND
CAT.COD_EMPRESA = vp.COD_EMPRESA AND 
CAT.COD_PAF_BANCO = vp.COD_PAF_BANCO
JOIN VENDA V ON 
V.COD_VENDA = vp.COD_VENDA AND
V.COD_EMPRESA = vp.COD_EMPRESA AND 
V.COD_PAF_BANCO = vp.COD_PAF_BANCO
left join venda_nfe vn on v.cod_venda = vn.cod_venda and v.cod_empresa = vn.cod_empresa and v.cod_paf_banco = vn.cod_paf_banco
where V.CONSOLIDOUP = 'true'
and v.CUPOM_ABERTO <> 'TRUE'
and (v.tipo_nota <> 3 or (v.tipo_nota = 3 and (v.CANCELADA = 'SIM' or coalesce(vn.PROTOCOLO,'')<>'' or coalesce(vn.protocolo_inutilizacao,'')<>'')))
 
Mensagem: Dynamic SQL Error
SQL error code = -206
Column unknown
VFDEP.*
At line 1, column 8 </h4>
    <span class="descricao-sql">Erro ocorre quando tentamos realizar consolidação no PDV e está relacionado a versão do EXE, esse erro especificamente é de uma versão de PDV que não possui uma tabela que já existe no roeador e servidor, por isso ao tentar realizar a consolidação o erro se apresenta. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Trocar verão do PAF para uma versão compatível
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 34 - Não foi possível finalizar a venda
Mensagem: Não obtive resposta do SAT MENSAGEM DO ROTEADOR: SAT.transmiteVenda-ERRO no processamento do comando no SAT
06099 - NÃ£o foi possÃ vel se comunicar com o SAT.  </h4>
    <span class="descricao-sql">Erro ocorre ao tentar realizar vendas em clientes de São Paulo, caso a devida comunicação não exista entre o sistema e o SAT o erro ocorre.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Precisamos fazer algumas validações diferentes a depender do fabricante do SAT
 
Dimep:
Bematech:
Elgin:
Tanca:
Urano: SAT da Urano: Acessar software configurador do SAT > So vamos conseguir conectar no SAT se o PDV estiver fechado > 
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 35 - Não foi possível finalizar a venda
Mensagem: Não obtive resposta do SAT MENSAGEM DO ROTEADOR: SAT.transmiteVenda-Access violation at address 6E7B4AD8 in module 'SAT.DLL'. Write of address 6FAF1000
<?xml version="1.0" encoding="UTF-8"?><CFe><infCFe versaoDadosEnt="0.07"><ide>   <CNPJ>05017821000154</CNPJ>  </h4>
    <span class="descricao-sql"> Erro de DLL de SAT para comunicação do sistema</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Trocar DLL e arquivos na pasta de comunicação do SAT, caso o PDV se comunica com o SAT pelo própio PDV ou pelo roteador 
 
Dimep: Para SAT dimep precisamos colocar a dll da dimep e seus arquivos auxiliares na pasta sistema seja roteador ou paf (a depender da configuração do PDV), voce pode encontrar essa dll na aba de dowload aqui do My Suite Após subistituir a dll, reiniciar roteador ou PAF e testar o sistema
Bematech:
Elgin:
Tanca:
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 36 - Não foi possível finalizar a venda
Mensagem: Não obtive resposta do SAT MENSAGEM DO ROTEADOR: SAT.transmiteVenda-ERRO no processamento do comando no SAT
06010 - RejeiÃ§Ã£o: Erro nÃ£o identificado  </h4>
    <span class="descricao-sql">Erro ocorreu ao tentar finalizar venda, ao analizar no momento de abertura de venda o frentista informou um dado invalido e ao finalizar a sefaz rejeitou a venda </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
Cancelar cupom aberto e pedir para cliente refazer a venda, observando todos os dados informados se há algum valor inválido é preenchido ou até mesmo o código de agente inexistente
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 37 - Erro consultando status do lote: 611 - cEAN invalido [nItem:1]  </h4>
    <span class="descricao-sql"> Caso o código já esteja correto no cadastro do produto pode esta acontecendo que em algumas entidades como Multipostos, quando existe uma atualizaçao no código de barras dos produtos o banco de dados não atualiza o registro, ele cria uma nova linha com o novo código, então no banco o mesmo produto tem 2 códigos de barras o novo e o antigo, 1 em cada linha.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

Precisamos remover o código de barras antigo do banco de dados e tentar transmitir a venda

Para isso acessamos IBO > banco do PAF > tabela "produto_barras" > filtramos pelo código do produto > haveram duas linhas de códigos de barras para o mesmo produto, nesse caso nos copiamos o código da linha mais recente e colamos na mais antiga, ou excluimos a mais antiga, como preferir.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
  <div class="postagem"> <!-- abertura postagem-->
    <h4> 38 - Verifique a conexão com a internet ou as libs openSSL disponível no sistema  </h4>
    <span class="descricao-sql"> Erro na tentativa de finalizar vendas usando carteira digital, esse eero sempre esta atralado as dlls de carteiras digitais na pasta do PAF</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 

Trocar dlls de carteira digitais na pasta do PAF, você pode colocar as dlls disponíveis aqui no my suite na aba de dowloads.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->  

   <div class="postagem"> <!-- abertura postagem-->
    <h4> 39 - rejeicao 378 - combustivel sem informaçao de encerrante  </h4>
    <span class="descricao-sql"> Erro ocorre devido a uma regra de validação 378 se aplica somente para os códigos de produtos ANP (cProdANP) abaixo:
810101002 - ETANOL HIDRATADO ADITIVADO;
810101001 - ETANOL HIDRATADO COMUM;
220101005 - GÁS NATURAL VEICULAR;
220101006 - GÁS NATURAL VEICULAR PADRÃO;
320103001 - GASOLINA AUTOMOTIVA PADRÃO;
320102002 - GASOLINA C ADITIVADA;
320102001 - GASOLINA C COMUM;
320102003 - GASOLINA C PREMIUM;
820101033 - ÓLEO DIESEL B S10 - ADITIVADO;
820101034 - ÓLEO DIESEL B S10 - COMUM;
420106001 - ÓLEO DIESEL B S10 AMD 10;
820101011 - ÓLEO DIESEL B S1800 Não Rodoviário - Aditivado;
820101003 - ÓLEO DIESEL B S1800 Não Rodoviário - Comum;
820101013 - ÓLEO DIESEL B S500 - ADITIVADO;
820101012 - ÓLEO DIESEL B S500 - COMUM;
420106002 - ÓLEO DIESEL B S500 AMD 10;
420301004 - OLEO DIESEL DE REFERÊNCIA S300.
 

Se o produto usa esse ANP é obrigatorio que seja informado encerrante no XML na TAG <encerrante>, e isso é preenchido automaticamente quando o produto usa o CFOP 5656
 
Dessa forma, com essa rejeição é possivel que o produto tenha codigo de ANP preenchido, mas o CFOP esteja diferente de 5656 que causa a contingencia</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Solicitar ao cliente troca no cadastro do produto o código de CFOP para o CFOP de combustivel que é 5656
2  Caso não resolva, sugerir revisão do ANP, e colocar um ANP para o produto que não esteja na tabela acima
 
No PDV basta consolidar e tentar transmiti
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem--> 
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 40 - Erro ocorre quando cliente tenta registrar para venda um produto que provavelmente esta com o preço zerado ou simplismente o produto esta inativo </h4>
    <span class="descricao-sql"> </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Verificar no retaguarda as circustâncias que se encontram esse produto, se realmente esta com preço zerado no retaguarda e se esta ativo, se ja foi aprovado preço no PDV etc.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 41 - Erro executando SQL XSQLDA index out of range
SQL: 
update or insert into VENDA (
COD_VENDA
,COD_PAF_BANCO
,COD_EMPRESA
,COD_USUARIO
,CUPOM_ABERTO
,ROTEADOR
,COD_AGENTE_OPERADOR
,COD_CAIXA_ABERTURA_TURNO  </h4>
    <span class="descricao-sql"> Erro ocorre na tentativa de abrir uma venda, mas no cadastro do agente algum caracter invalido impede o sistema de abrir a venda</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
Verificar no retaguarda qual campo do cadastro do agente possui a informação que estoura o campo, algum caracter especial, sinal de acentuação, cedilha, traço etc
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 42 - The element 'encerrante' in namespace 'http://www.portalfiscal.inf.br/nfe' has invalid child element 'vEncIni' in namespace 'http://www.portalfiscal.inf.br/nfe'. List of possible elements expected: 'nBomba, nTanque' in namespace 'http://www.portalfiscal.inf.br/nfe'.
Caminho: enviNFe/NFe[1]/infNFe/det[1]/prod/comb/encerrante/vEncIni  </h4>
    <span class="descricao-sql"> Erro ocorre na tentativa de abrir qualquer venda no PDV e está ligado ao cadastro de tanque no retaguarda, cadastro dos tanques com nomenclatura inválida</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
Verificar no retaguarda se os tanques estão com a nomenclatura dentro do padrão aceito pela sefaz ("TQ01" padrão) se estiverem, verificar no banco se está igual ao retaguarda
IBO > Basepaf > Tabela "produto_tanque" > nomenclatura deve esta fora do padrão descrito acima, e esse é o problema, solicitar que o cliente altere no retaguarda para o padrão correto.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 43 - Excesso de tentativas de executar o evento 52242-, por favor tente novamente mais tarde. 
Se o problema persistir contate a REDESOFT
Mensagem:  </h4>
    <span class="descricao-sql"> Erro apos uma operação de venda ou opnf no PDV, tem relação com a tentativa do sistema de concluir a operação de um evento na tabela evento</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para solução: 
    
Casos como esse são estritamente únicos, cada um possui uma particularidade que influência na decisão para resolução, precisamos verificar na tabela evento do PAF qual evento esta falhando, precisamos verificar no LOG do PDV em que momento esse erro começou a aparecer, e relacionar o erro a venda ou operação realizada no PDV, era uma sangria? A sangria falhou e o evento travou? Era uma baixa de título? o título foi baixado? Era uma venda? a venda foi finalizada com sucesso? Se algo falhou vamos destravar o evento e pedir para o cliente refazer a operação? tudo deve ser avaliado pra que possamos tomar a melhor decisão para resolução do erro de evento
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 44 - Erro ao transmitir dados para o roteador:  
MENSAGEM DO ROTEADOR: dadosPDV.AtualizarDadosPDV-update or insert into PRODUTO_FILIAL 
        (COD_USUARIO,COD_EMPRESA,COD_PRODUTO_FILIAL,
        MOMENTO,COD_PRODUTO,COD_PRODUTO_TRIBUTACAO,TIPO_ITEM,PVENDA,STATUS,
        SOMENTE_COM_CODIGO_DE_BARRAS,
        VMAXIMO_VENDA,DESC_MAXIMO_VENDEDOR,DESC_MAXIMO_GERENTE,USA_DESCONTO_GRUPO,IPPT,IAT,ULTIMO_PMC
Dynamic SQL Error
SQL error code = -303
arithmetic exception, numeric overflow, or string truncation
numeric value is out of range
Por favor, vefique se o roteador está ativo e reinicie o B2ClickPDV. Caso o problema persista, entre em contato com o suporte da REDESOFT.  </h4>
    <span class="descricao-sql"> Erro ocorre ao tentar receber consolidação no PDV e tem relação com a tabela "produto_filial"</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
Ainda não se sabe a cusa e=legitima do erro, mas a sulução aplicada pelo nivel 2 junto ao desenvolvimento foram algumas alterações no banco
 
1 - Na ocasião do erro a tabela "produto_filial" > coluna "roteador" o desenvolvimento fez a alteração para "FALSE" resolvendo por hora o problema
 
2 - Em outra situação semelhante o operador Douglas trocou a versão do roteador de 108 para 116, tambem resolvendo o problema
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 45 -Existe venda com pagamento cancelado e venda nao cancelada. Faça o cancelamento da venda para continuar a operaçao
TRANSAÇÃO NÃO EFETUADA: EXISTEM VENDAS NÃO CANCELADAS COM PAGAMENTOS CANCELADOS! </h4>
    <span class="descricao-sql"> Erro ocorre quando a venda por algum motivo não é finalizada como deveria, e nos informa que as formas de pagamento cartão e etc nao foram canceladas </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

Vamos cancelar a venda, fazer os itens ou abastecimentos voltarem a tela, para o cliente refazer a venda, se essavenda foi feita no cartão e foi aprovada, cliente vai precisar baixar em dinheiro e na conferencia de caixa corrigir devidamente.


1 -   Parte da soluçao Banco do  PAF

update venda
set cod_usuario_cancelou = cod_agente_operador,
cancelada='SIM',
cancelada_ecf='NAO',
valor_total= null
where cod_venda = 16977
and cod_caixa_abertura_turno = 983;

update venda_itens
set qtd_cancelada = quantidade,
quantidade = 0,
cancelado_ecf = 'SIM',
valor_cancelado_ecf = total_ecf,
total_ecf = 0,
desconto_acrescimo_ecf = 0
where cod_venda = 16977
and cod_caixa_abertura_turno = 983;

2 - Parte da soluçao na celula da esquerda sql para ROTEADOR

update venda
set cod_usuario_cancelou = cod_agente_operador,
cancelada='SIM',
cancelada_ecf='NAO',
valor_total= null
where cod_venda = 16977
and cod_caixa_abertura_turno = 983;

update venda_itens
set qtd_cancelada = quantidade,
quantidade = 0,
cancelado_ecf = 'SIM',
valor_cancelado_ecf = total_ecf,
total_ecf = 0,
desconto_acrescimo_ecf = 0
where cod_venda = 16977
and cod_caixa_abertura_turno = 983;

update ABASTECIMENTO SET
SITUACAO = 0,
COD_VENDA = 0
WHERE COD_VENDA= 16977

3 - Após a execução de ambas sql, reiniciar roteador, e verificar se o abastecimento voltou pra tela, orientar o cliente baixar a venda e informar que no retaguarda pode ser corrigido a parte da forma de pagamento que não foi em dinheiro
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 46 - Não existe configuração de alíquotas para a tributação 125 nesta data  </h4>
    <span class="descricao-sql">Erro ocorre quando o cliente tenta acessar um caixa ja aberto para realizar vendas, esta relacionada a esse caixa ja ter um cupom aberto, mas por algum erro no banco ou mudaças na tributaçao ocorre esse erro na tributaçao do cupom aberto. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
    
1 - Verificar cadastro da empresa > aba financeiro > verificar validade de regime de tributação 
 
2 - Verificar aba contador > Validade CRC
 
3 - Verificar data final da tributação informada no erro  
 
4 - Salvat todos os cadastro e receber consolidação
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 47 - Erro na execução da SQL:

select cod_venda
from VENDA_TOTEN
where COD_VENDA_TOTEN = 23363
and UPPER (coalesce(CUPOM_ABERTO,') <> 'FALSE' </h4>
    <span class="descricao-sql">Erro tentar executar qualquer tarefa no pdv esse erro aparece e pode está relacionado a duas tabelas no banco do paf são elas BUFFER_TEF ou BUFFER_CDIGITAL </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
 
1 - Verificar em ambas as tabelas BUFFER_TEF ou BUFFER_CDIGITAL se o COD_VENDA_TOTEN esta presente, e na coluda 'PENDENTE' do referido código se estiver 'TRUE'> alterar para> 'FALSE'>comitar e testar, provavelmente vai esta resolvido.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 48 - Não foi possível registrar a venda do item de código 1890109
Valor máximo por item (R$ 10.000,00) atingido na venda do produto 1890109
 
DIGITE OK PARA CONTINUAR
   </h4>
    <span class="descricao-sql">Erro devido a uma limitação configurada no retaguarda do cliente. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Na parte de configurações do PDV > em configurações 2 > existe o campo "total máximo de cada item em R$" que caso preenchido limita que um item com um valor maior do que o preenchido nesse campo seja vendido sem que haja liberação com senha de um usuario autorizado, logo para que a mensagem de erro não atrapalhe, devemos solicitar que o pessoal autorizado no posto ajuste esse campo tirando a restrição ou aumentado o valor.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 49 - Título(s) 4783540 já recebido(s) nesta empresa </h4>
    <span class="descricao-sql"> Precisaremos consultar esse título no retaguarda do cliente, precisamos confirmar se o título já foi baixado ou se ainda está em aberto, caso ainda esteja em aberto, por algum erro no banco do roteador consta ele como já quitado, uma das hipóteses é que em outro momento já foi tentado realizar essa operação e ela falhou, mas os procedimentos de baixas travaram na metade.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para Correção:

1 – Caso após a consulta no retaguarda o título já esteja quitado, obviamente que o título foi quitado em algum outro momento e vamos informar ao cliente que não é possível utilizar titulo quitado.

2 – Caso o titulo não esteja quitado no teraguarda precisamos alterar ou remover o código do título em venda_opnf no banco do roteador coluna cod_fin_titulo. Caso não saiba o código de venda OPFN que esteja usando esse título podemos filtrar pelo código de título apresentado no erro usando a coluna cod_fin_titulo para filtrar
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 50 - Setor nao informado para o produto  </h4>
    <span class="descricao-sql"> Erro pode estar relacionado a um PDV recém gerado que fala a informação default para consulta e vendas de produtos, ou a um PDV que vai utilizar pela primeira vez a integração de DAV</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - Nas configurações de PAF > Aba Diversos> devemos informar código do setor no campo superior direito, "Setor default consulta produtos/DAV" > clicar no campo > pressionar F11 para ver os setores disponíveis . informar o setor a depender do caso e gravar alterações.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

<div class="postagem"> <!-- abertura postagem-->
    <h4> 51 - Ocorreu um erro ao baixar os abastecimentos pendentes. Motivo: Este codigo de venda existe na tabela   </h4>
    <span class="descricao-sql">Erro pode esta relacionado a 3 causas, a primeira e mais provavel falta de certificado digital na maquina, abastecimento sem identifid que ao tentar realizar baixa automatica o sistema fica com o cupom preso, e cupom aberto preso. </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
 
1 - Acessar configurações do PDV > aba de NFCE > remover e adicionar certificado digital
2 - Cancelar cupom aberto em F8 operaçoes > cancelar cupom aberto
3 - Abastecientos sem identifid, o sistem pode tentar baixar uma venda de abastecimento automaticamente, mas se o abastecimento estiver sem identifid pode ter ficado travado na abertura da venda, precisamos inserir o identfid no  abastecimento.
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

    <div class="postagem"> <!-- abertura postagem-->
    <h4> 52 - 225 - Rejeicao: Falha no Schema XML da NFe The 'http://www.portalfiscal.inf.br/nfe:uTrib' element is invalid - The value ' UN' is invalid according to its datatype 'String' - The Pattern constraint failed. </h4>
    <span class="descricao-sql">Como o erro nos informa, a unidade de algum produto na venda está fora dos parâmetros aceitos pela Sefaz, analisando o caso o problema está que no cadastro do produto foi inserido um espaço em branco antes das letras UN por exemplo " UN" </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - O caso em questão apenas atualizar o cadastro do produto não é suficiente, por mais que recebamos a consolidação o PDV não atualiza na tabela o novo formato de unidade, vamos precisar alterar manualmente nas vendas, na tabela "venda_itens", coluna "unidade" que a depender da quantidade de itens pode demorar muito.

2 - Nesse caso podemos usar a sql:

ALTER TRIGGER TRIG_RDB$TRIGGERS_1 INACTIVE;
ALTER TRIGGER INS$venda_itens INACTIVE; 
 
update venda_itens
set unidade = "UN"
where unidade = " UN"
 
3 - Executada sql, podemos transmitir as vendas
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
<div class="postagem"> <!-- abertura postagem-->
    <h4> 53 - Contingencia com retorno : 865 Total dos pagamentos menor que o valor total da nota </h4>
    <span class="descricao-sql">Provavelmente devido a algum desconto, o somatório está arredondando para um valor que a sefaz informa como sendo diferente do valor total da venda </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - Após analisar o XML, podemos verificar qual seria o valor total da venda > na tabela VENDA_FECHAMENTO > vamos conferir e se necessario mudar para o valor correto total da vend as colunas > VALOR > VALOR_FORMA > VALOR_DIGITADO > colocar o valor total da nfe > transmitir
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 54 - Caixa nao pode ser encerrado, existe notas em contingencias que ainda nao foram enviadas.
O envio de notas em contingencia apos um periodo de 24horas uteis é passivel de multa pelo Sefaz </h4>
    <span class="descricao-sql"> Erro de contingência do sistema PLsof </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - Abri PLSoft>Clica em “Movimento do caixa”>Clicar “Contas finalizadas”>Clicar “gerar notas pendentes”> as contingencias serão transmitidas caso não haja nenhum problema a ser corrigido em produtos e afins
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    
 <div class="postagem"> <!-- abertura postagem-->
    <h4> 55 - Não foi possível registrar a venda do item de código 30059

Não foi encontrada associação entre o destinatário da NF-e com o campo 'TIPO FISCAL DE VENDA' informado na abertura da venda, com isso, não é possível concluir a tributação a ser utilizada.  </h4>
    <span class="descricao-sql"> Em alguns casos de venda NFE no PDV o operador de caixa seleciona o tipo de venda errado na tela onde se preenche dados do cliente da nota no canto superior esquerdo da tela de abertura de venda</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - Verificar cadastro do produto na aba de operações se existe algum tipo fiscal informado.

Caso não haja.

Verificar se na abertura da venda no PDV é informado um tipo fiscal específico.

2 - Com o "tipo fiscal" informado, vamos verificar no "cadastro de tipos fiscais para PDV" no retaguarda do cliente, ver qual o "número de documento" esse tipo fiscal utiliza para vender.

3 - Com o "número de documento", vamos verificar o "Cadastro de tipos de documentos fiscais", localizar na aba de "tipos de operações" o nome exato que vemos em "tipo de documento" (EX: "Venda para fora da UF"), verificar as parametrizações em relação ao cliente informado na venda,  cliente de destino é de dentro ou fora da UF? O tipo de documento cadastrado permite venda para fora da UF? 
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

<div class="postagem"> <!-- abertura postagem-->
    <h4> 56 - empresa 4 entidade POSTOSCUNHA tabela VENDA_ITENS chave 113725
Produto 180004 não encontrado na filial 4
 empresa 4 entidade POSTOSCUNHA tabela VENDA_ITENS chave 113728
Produto 180004 não encontrado na filial 4  </h4>
    <span class="descricao-sql">Produto com preço zerado no retaguarda, sem tributaçao e sem tipo de venda, para o frente de loja esse produto fica inativo e caso haja venda dele no PDV ao consolidar o frente de loja retorna o erro </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
1 - Verificar cadastro do produto informado no erro, verificar preço de venda não pode ser zerado > Verificar tributação > e tipo de venda configurado, se estiver sem essa configuração orientar ao cliente corrigir, somente depois da correção o PDV vai parar com a mensagem de erro
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

   <div class="postagem"> <!-- abertura postagem-->
    <h4> 57 - Não existe configuração de alíquotas para a tributação 125 nesta data  </h4>
    <span class="descricao-sql">Cadastro da empresa com data de tributação vencida </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
 
 
1 - Cadastro da empresa > aba financeiro > verificar validade de regime de tributação 
 
2 - Cadastro da empresa > aba contador > Validade CrC
 
3 - Cadastro de tributação > Verificar data final da tributação informada no erro  
 
4 - Salvar todos os cadastro e receber consolidação
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem--> 
    
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 58 - Venda já finalizada e ainda está sendo apresentada no caixa. entre em contato com o suporte da redesoft </h4>
    <span class="descricao-sql"> Erro em decorrência de uma venda não finalizada totalmente.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:
    
1 - Verificar se a venda possui protocolo, e consultar a chave na sefaz
4 - Se a venda estiver valida na sefaz, Verificar na tabela "venda", "valor" Se estiver sem valor, localizar no log o valor da venda e colocar o valor correto, na tabela "cupom_aberto" setar o "False"
2 - Após as correções tentar consolidar e verificar se chegou ao retaguarda a venda.
3 - Se a chave não estiver válida na sefaz, rodar SQL de cancelamento de venda (Pesquisar nas SQLs da base)
4 - Caso tenha executado a SQL de cancelamento com sucesso, pedir para o cliente refazer a venda
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->
    <div class="postagem"> <!-- abertura postagem-->
    <h4> 69 - Erro na execução da SQL: 
update CAIXA_ABERTURA_TURNO set SANGRIA_DINHEIRO=
coalesce(SANGRIA_DINHEIRO, 0)+:SANGRIA_DINHEIRO
where COD_EMPRESA=:COD_EMPRESA
and COD_CAIXA_ABERTURA_TURNO=:COD_CAIXA_ABERTURA_TURNO
 
Mensagem: lock conflict on no wait transaction
deadlock
update conflicts with concurrent update
concurrent transaction number is 423372  </h4>
    <span class="descricao-sql"> Provavelmente algum registro da tabela sangria está com inconsistência.</span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção: 
 
1 - Executar restore na interface do b2click pelo sim
2 - Executar restore na interface do b2click pelo não
3 - Na ocasião da catalogação desse erro, os restores pela interface do sistema resolveram o problema, caso para voce não funcione, pode-se tentar o restore pelo CMD (Pesquisar nas SQLs e CMDs da base))
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->

<div class="postagem"> <!-- abertura postagem-->
    <h4> 60 - exception 1
NONAME
Por razoes de seguranca nao e permitido fazer modificacoes neste banco
At trigger 'INS$EVENTO' line: 8, col: 1</h4>
    <span class="descricao-sql">Banco com inconsistência em relação as permissões de alteração do banco, esse erro ocorreu no momento de tentar abrir configurações do PAF, o que não deveria. Visto que as operações da interface do sistema têm as permissões para alterações diretas no banco </span>
    <br>
    <br>   

<pre class="codigo"style="display: none;">
Para correção:

1 - Restore no banco pelo CMD resolveu no caso que levou o erro a catalogação
<br>
    <br>
</pre> <button onclick="toggleCode(this)">Mostrar mais</button>

<br>
<br>
<hr>
    </div> <!-- fechamento postagem-->    
    
        </div>

        </div>
                        
    </div>



</body>

</html>
